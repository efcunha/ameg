<!DOCTYPE html>
<html>
<head>
    <title>AMEG - Editar Cadastro</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/mobile.css">
    <style>
        body { font-family: Arial; margin: 0; background: #f4f4f4; }
        .header { background: #2c3e50; color: white; padding: 20px; }
        .nav { background: #34495e; padding: 15px; }
        .nav a { color: white; text-decoration: none; padding: 10px 20px; margin-right: 10px; background: #3498db; border-radius: 5px; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .form-card { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .form-row { display: flex; gap: 20px; margin-bottom: 15px; }
        .form-group { flex: 1; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        .btn { background: #27ae60; color: white; padding: 12px 30px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        .btn:hover { background: #229954; }
        .logout { float: right; color: white; text-decoration: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>AMEG - Editar Cadastro</h1>
        <a href="/logout" class="logout">Sair</a>
    </div>
    
    <div class="nav">
        <a href="/dashboard">Dashboard</a>
        <a href="/cadastrar">Novo Cadastro</a>
        <a href="/relatorios">Relatórios</a>
        <a href="/exportar">Exportar CSV</a>
    </div>
    
    <div class="container">
        <!-- DEBUG INFO -->
        <div style="background: #f8f9fa; padding: 10px; margin-bottom: 20px; border: 1px solid #dee2e6; border-radius: 5px; font-family: monospace; font-size: 12px;">
            <strong>DEBUG - Dados do Cadastro:</strong><br>
            ID: {{ cadastro[0] if cadastro else 'N/A' }}<br>
            Nome: {{ cadastro[1] if cadastro else 'N/A' }}<br>
            Gênero (índice 8): {{ cadastro[8] if cadastro and cadastro|length > 8 else 'N/A' }}<br>
            Estado Civil (índice 16): {{ cadastro[16] if cadastro and cadastro|length > 16 else 'N/A' }}<br>
            Tipo Trabalho (índice 28): {{ cadastro[28] if cadastro and cadastro|length > 28 else 'N/A' }}<br>
            Casa Tipo (índice 43): {{ cadastro[43] if cadastro and cadastro|length > 43 else 'N/A' }}<br>
            Total campos: {{ cadastro|length if cadastro else 0 }}
        </div>
        
        <div class="form-card">
            <h2>Editar Cadastro Familiar</h2>
            
            <form method="POST" action="/atualizar_cadastro/{{ cadastro[0] }}" enctype="multipart/form-data">
                <h3>1. DADOS DO TITULAR</h3>
                
                <div class="form-group">
                    <label>Nome Completo *</label>
                    <input type="text" name="nome_completo" value="{{ cadastro.nome_completo or cadastro[1] or ''}}" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Endereço *</label>
                        <input type="text" name="endereco" value="{{ cadastro[2] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>Número *</label>
                        <input type="text" name="numero" value="{{ cadastro[3] or ''}}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Bairro *</label>
                        <input type="text" name="bairro" value="{{ cadastro[4] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>CEP * <small>(preenche endereço automaticamente)</small></label>
                        <input type="text" name="cep" value="{{ cadastro[5] or ''}}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Telefone Celular *</label>
                        <input type="text" name="telefone" value="{{ cadastro[6] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>Ponto de Referência</label>
                        <input type="text" name="ponto_referencia" value="{{ cadastro[7] or ''}}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Gênero *</label>
                        <select name="genero" required>
                            <option value="">Selecione</option>
                            <option value="M" {{ 'selected' if cadastro[8] == 'M' else '' }}>Masculino</option>
                            <option value="F" {{ 'selected' if cadastro[8] == 'F' else '' }}>Feminino</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Idade *</label>
                        <input type="number" name="idade" value="{{ cadastro[9] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>Data Nascimento *</label>
                        <input type="date" name="data_nascimento" value="{{ cadastro[10] or ''}}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Nº Título de Eleitor</label>
                        <input type="text" name="titulo_eleitor" value="{{ cadastro[11] or ''}}">
                    </div>
                    <div class="form-group">
                        <label>Cidade Emissão Título</label>
                        <input type="text" name="cidade_titulo" value="{{ cadastro[12] or ''}}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>CPF *</label>
                        <input type="text" name="cpf" value="{{ cadastro[13] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>RG *</label>
                        <input type="text" name="rg" value="{{ cadastro[14] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>NIS</label>
                        <input type="text" name="nis" value="{{ cadastro[15] or ''}}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Estado Civil *</label>
                        <select name="estado_civil" required>
                            <option value="">Selecione</option>
                            <option value="Solteiro" {{ 'selected' if cadastro[16] == 'Solteiro' else '' }}>Solteiro(a)</option>
                            <option value="Casado" {{ 'selected' if cadastro[16] == 'Casado' else '' }}>Casado(a)</option>
                            <option value="Divorciado" {{ 'selected' if cadastro[16] == 'Divorciado' else '' }}>Divorciado(a)</option>
                            <option value="Viúvo" {{ 'selected' if cadastro[16] == 'Viúvo' else '' }}>Viúvo(a)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Escolaridade *</label>
                        <input type="text" name="escolaridade" value="{{ cadastro[17] or ''}}" required>
                    </div>
                    <div class="form-group">
                        <label>Profissão *</label>
                        <input type="text" name="profissao" value="{{ cadastro[18] or ''}}" required>
                    </div>
                </div>
                
                <h3>DADOS DO COMPANHEIRO</h3>
                
                <div class="form-group">
                    <label>Nome Companheiro</label>
                    <input type="text" name="nome_companheiro" value="{{ cadastro[19] or '' }}">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>CPF Companheiro</label>
                        <input type="text" name="cpf_companheiro">
                    </div>
                    <div class="form-group">
                        <label>RG Companheiro</label>
                        <input type="text" name="rg_companheiro">
                    </div>
                    <div class="form-group">
                        <label>Idade Companheiro</label>
                        <input type="number" name="idade_companheiro">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Título Eleitor Companheiro</label>
                        <input type="text" name="titulo_companheiro">
                    </div>
                    <div class="form-group">
                        <label>Cidade Título Companheiro</label>
                        <input type="text" name="cidade_titulo_companheiro">
                    </div>
                    <div class="form-group">
                        <label>NIS Companheiro</label>
                        <input type="text" name="nis_companheiro">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Escolaridade Companheiro</label>
                        <input type="text" name="escolaridade_companheiro">
                    </div>
                    <div class="form-group">
                        <label>Profissão Companheiro</label>
                        <input type="text" name="profissao_companheiro">
                    </div>
                    <div class="form-group">
                        <label>Data Nascimento Companheiro</label>
                        <input type="date" name="data_nascimento_companheiro">
                    </div>
                </div>
                
                <h3>2. DADOS DE RENDA FAMILIAR</h3>
                
                <div class="form-group">
                    <label>Tipo de Trabalho</label>
                    <select name="tipo_trabalho">
                        <option value="">Selecione</option>
                        <option value="Assalariado com carteira" {{ 'selected' if cadastro[28] == 'Assalariado com carteira' else '' }}>Assalariado com carteira</option>
                        <option value="Assalariado sem carteira" {{ 'selected' if cadastro[28] == 'Assalariado sem carteira' else '' }}>Assalariado sem carteira</option>
                        <option value="Trabalhador Autônomo" {{ 'selected' if cadastro[28] == 'Trabalhador Autônomo' else '' }}>Trabalhador Autônomo</option>
                        <option value="Aposentado" {{ 'selected' if cadastro[28] == 'Aposentado' else '' }}>Aposentado</option>
                        <option value="Pensionista" {{ 'selected' if cadastro[28] == 'Pensionista' else '' }}>Pensionista</option>
                        <option value="BPC" {{ 'selected' if cadastro[28] == 'BPC' else '' }}>BPC</option>
                        <option value="Funcionário Público" {{ 'selected' if cadastro[28] == 'Funcionário Público' else '' }}>Funcionário Público</option>
                        <option value="Desempregado" {{ 'selected' if cadastro[28] == 'Desempregado' else '' }}>Desempregado</option>
                        <option value="Outros" {{ 'selected' if cadastro[28] == 'Outros' else '' }}>Outros</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Quantas pessoas trabalham?</label>
                        <input type="number" name="pessoas_trabalham">
                    </div>
                    <div class="form-group">
                        <label>Quantos Aposentados/Pensionistas?</label>
                        <input type="number" name="aposentados_pensionistas">
                    </div>
                </div>
                
                <h3>3. DETALHAMENTO FAMILIAR</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Nº Pessoas na Família</label>
                        <input type="number" name="num_pessoas_familia">
                    </div>
                    <div class="form-group">
                        <label>Nº de Famílias</label>
                        <select name="num_familias">
                            <option value="">Selecione</option>
                            <option value="1 Família">1 Família</option>
                            <option value="2 Famílias">2 Famílias</option>
                            <option value="mais de 2 famílias">Mais de 2 famílias</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Adultos</label>
                        <input type="number" name="adultos">
                    </div>
                    <div class="form-group">
                        <label>Crianças</label>
                        <input type="number" name="criancas">
                    </div>
                    <div class="form-group">
                        <label>Adolescentes</label>
                        <input type="number" name="adolescentes">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Idosos</label>
                        <input type="number" name="idosos">
                    </div>
                    <div class="form-group">
                        <label>Gestantes</label>
                        <input type="number" name="gestantes">
                    </div>
                    <div class="form-group">
                        <label>Nutrizes</label>
                        <input type="number" name="nutrizes">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Renda Familiar Bruta (R$)</label>
                        <input type="number" step="0.01" name="renda_familiar">
                    </div>
                    <div class="form-group">
                        <label>Renda Per Capita (R$)</label>
                        <input type="number" step="0.01" name="renda_per_capita">
                    </div>
                    <div class="form-group">
                        <label>Bolsa Família (R$)</label>
                        <input type="number" step="0.01" name="bolsa_familia">
                    </div>
                </div>
                
                <h3>DADOS DA MORADIA</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Casa</label>
                        <select name="casa_tipo">
                            <option value="">Selecione</option>
                            <option value="própria" {{ 'selected' if cadastro[43] == 'própria' else '' }}>Própria</option>
                            <option value="alugada" {{ 'selected' if cadastro[43] == 'alugada' else '' }}>Alugada</option>
                            <option value="cedida" {{ 'selected' if cadastro[43] == 'cedida' else '' }}>Cedida</option>
                            <option value="invadida" {{ 'selected' if cadastro[43] == 'invadida' else '' }}>Invadida</option>
                            <option value="compartilhada" {{ 'selected' if cadastro[43] == 'compartilhada' else '' }}>Compartilhada</option>
                            <option value="outros" {{ 'selected' if cadastro[43] == 'outros' else '' }}>Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tipo Material</label>
                        <select name="casa_material">
                            <option value="">Selecione</option>
                            <option value="alvenaria" {{ 'selected' if cadastro[44] == 'alvenaria' else '' }}>Alvenaria</option>
                            <option value="mista" {{ 'selected' if cadastro[44] == 'mista' else '' }}>Mista</option>
                            <option value="taipa" {{ 'selected' if cadastro[44] == 'taipa' else '' }}>Taipa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Energia</label>
                        <select name="energia">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[45] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[45] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Lixo</label>
                        <select name="lixo">
                            <option value="">Selecione</option>
                            <option value="coletado">Coletado</option>
                            <option value="queimado">Queimado</option>
                            <option value="enterrado">Enterrado</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Água</label>
                        <select name="agua">
                            <option value="">Selecione</option>
                            <option value="encanada" {{ 'selected' if cadastro[47] == 'encanada' else '' }}>Encanada</option>
                            <option value="poço" {{ 'selected' if cadastro[47] == 'poço' else '' }}>Poço</option>
                            <option value="cisterna" {{ 'selected' if cadastro[47] == 'cisterna' else '' }}>Cisterna</option>
                            <option value="outros" {{ 'selected' if cadastro[47] == 'outros' else '' }}>Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Esgoto</label>
                        <select name="esgoto">
                            <option value="">Selecione</option>
                            <option value="saneado" {{ 'selected' if cadastro[48] == 'saneado' else '' }}>Saneado</option>
                            <option value="fossa" {{ 'selected' if cadastro[48] == 'fossa' else '' }}>Fossa</option>
                            <option value="outros" {{ 'selected' if cadastro[48] == 'outros' else '' }}>Outros</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Observações</label>
                    <textarea name="observacoes" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">{{ cadastro[49] or '' }}</textarea>
                </div>
                
                <h3>DADOS DA SAÚDE DA FAMÍLIA</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Tem doença crônica?</label>
                        <select name="tem_doenca_cronica" onchange="toggleField(this, 'doencas_cronicas')">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[50] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[50] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quais doenças crônicas?</label>
                        <input type="text" name="doencas_cronicas" id="doencas_cronicas" disabled placeholder="Ex: Diabetes, Hipertensão">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Usa medicamento contínuo?</label>
                        <select name="usa_medicamento_continuo" onchange="toggleField(this, 'medicamentos_continuos')">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[52] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[52] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quais medicamentos?</label>
                        <input type="text" name="medicamentos_continuos" id="medicamentos_continuos" disabled placeholder="Ex: Insulina, Captopril">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Tem doença mental?</label>
                        <select name="tem_doenca_mental" onchange="toggleField(this, 'doencas_mentais')">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[54] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[54] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quais doenças mentais?</label>
                        <input type="text" name="doencas_mentais" id="doencas_mentais" disabled placeholder="Ex: Depressão, Ansiedade">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Tem deficiência?</label>
                        <select name="tem_deficiencia" onchange="toggleField(this, 'tipo_deficiencia')">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[56] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[56] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tipo de deficiência?</label>
                        <input type="text" name="tipo_deficiencia" id="tipo_deficiencia" disabled placeholder="Ex: Visual, Auditiva, Física">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Precisa de cuidados especiais?</label>
                        <select name="precisa_cuidados_especiais" onchange="toggleField(this, 'cuidados_especiais')">
                            <option value="">Selecione</option>
                            <option value="Sim" {{ 'selected' if cadastro[58] == 'Sim' else '' }}>Sim</option>
                            <option value="Não" {{ 'selected' if cadastro[58] == 'Não' else '' }}>Não</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quais cuidados?</label>
                        <input type="text" name="cuidados_especiais" id="cuidados_especiais" disabled placeholder="Ex: Fisioterapia, Acompanhamento médico">
                    </div>
                </div>
                
                <h3>ANEXOS DE SAÚDE</h3>
                <p style="color: #666; font-size: 14px;">Anexe laudos médicos, receitas ou imagens relacionadas à saúde (PDF, PNG, JPG, DOC - máx. 16MB cada)</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>📋 Laudo Médico</label>
                        <input type="file" name="laudo" accept=".pdf,.png,.jpg,.jpeg,.doc,.docx">
                        <input type="text" name="descricao_laudo" placeholder="Descrição do laudo (opcional)" style="margin-top: 5px;">
                    </div>
                    <div class="form-group">
                        <label>💊 Receita Médica</label>
                        <input type="file" name="receita" accept=".pdf,.png,.jpg,.jpeg,.doc,.docx">
                        <input type="text" name="descricao_receita" placeholder="Descrição da receita (opcional)" style="margin-top: 5px;">
                    </div>
                    <div class="form-group">
                        <label>📷 Imagem/Exame</label>
                        <input type="file" name="imagem" accept=".pdf,.png,.jpg,.jpeg,.doc,.docx">
                        <input type="text" name="descricao_imagem" placeholder="Descrição da imagem (opcional)" style="margin-top: 5px;">
                    </div>
                </div>
                
                <script>
                function toggleField(select, targetId) {
                    const target = document.getElementById(targetId);
                    if (select.value === 'Sim') {
                        target.disabled = false;
                        target.style.backgroundColor = '#fff';
                    } else {
                        target.disabled = true;
                        target.value = '';
                        target.style.backgroundColor = '#f5f5f5';
                    }
                }
                </script>
                
                <script>
                // Formatação e validação de CPF
                function formatCPF(input) {
                    let value = input.value.replace(/\D/g, '');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                    input.value = value;
                }
                
                function validarCPF(cpf) {
                    cpf = cpf.replace(/[^\d]+/g, '');
                    if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) return false;
                    
                    let soma = 0;
                    for (let i = 0; i < 9; i++) soma += parseInt(cpf.charAt(i)) * (10 - i);
                    let resto = (soma * 10) % 11;
                    if (resto === 10 || resto === 11) resto = 0;
                    if (resto !== parseInt(cpf.charAt(9))) return false;
                    
                    soma = 0;
                    for (let i = 0; i < 10; i++) soma += parseInt(cpf.charAt(i)) * (11 - i);
                    resto = (soma * 10) % 11;
                    if (resto === 10 || resto === 11) resto = 0;
                    return resto === parseInt(cpf.charAt(10));
                }
                
                function validarCPFInput(input) {
                    const cpf = input.value.replace(/[^\d]+/g, '');
                    if (cpf.length === 11 && !validarCPF(cpf)) {
                        input.setCustomValidity('CPF inválido');
                        input.style.borderColor = '#e74c3c';
                    } else {
                        input.setCustomValidity('');
                        input.style.borderColor = '#ddd';
                    }
                }
                
                // Formatação de telefone
                function formatTelefone(input) {
                    let value = input.value.replace(/\D/g, '');
                    if (value.length <= 11) {
                        value = value.replace(/(\d{2})(\d)/, '($1) $2');
                        value = value.replace(/(\d{4})(\d)/, '$1-$2');
                    }
                    input.value = value;
                }
                
                // Formatação de CEP
                function formatCEP(input) {
                    let value = input.value.replace(/\D/g, '');
                    value = value.replace(/(\d{2})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                    input.value = value;
                }
                
                // Buscar endereço pelo CEP
                function buscarCEP(cep) {
                    const cepLimpo = cep.replace(/\D/g, '');
                    if (cepLimpo.length === 8) {
                        fetch(`https://viacep.com.br/ws/${cepLimpo}/json/`)
                            .then(response => response.json())
                            .then(data => {
                                if (!data.erro) {
                                    document.querySelector('input[name="endereco"]').value = data.logradouro || '';
                                    document.querySelector('input[name="bairro"]').value = data.bairro || '';
                                    // Foca no campo número após preencher
                                    document.querySelector('input[name="numero"]').focus();
                                } else {
                                    alert('CEP não encontrado!');
                                }
                            })
                            .catch(error => {
                                console.error('Erro ao buscar CEP:', error);
                            });
                    }
                }
                
                // Aplicar formatação aos campos CPF
                document.addEventListener('DOMContentLoaded', function() {
                    const cpfInputs = document.querySelectorAll('input[name="cpf"], input[name="cpf_companheiro"]');
                    cpfInputs.forEach(input => {
                        input.addEventListener('input', function() {
                            formatCPF(this);
                            validarCPFInput(this);
                        });
                        input.maxLength = 14;
                        input.pattern = '\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}';
                    });
                    
                    // Aplicar formatação ao campo telefone
                    const telefoneInput = document.querySelector('input[name="telefone"]');
                    if (telefoneInput) {
                        telefoneInput.addEventListener('input', function() {
                            formatTelefone(this);
                        });
                        telefoneInput.maxLength = 15;
                        telefoneInput.placeholder = '(XX) XXXX-XXXX';
                    }
                    
                    // Aplicar formatação ao campo CEP
                    const cepInput = document.querySelector('input[name="cep"]');
                    if (cepInput) {
                        cepInput.addEventListener('input', function() {
                            formatCEP(this);
                        });
                        cepInput.addEventListener('blur', function() {
                            buscarCEP(this.value);
                        });
                        cepInput.maxLength = 10;
                        cepInput.placeholder = 'XX.XXX-XX';
                    }
                });
                </script>
                
                <button type="submit" class="btn">Salvar Cadastro</button>
            </form>
        </div>
    </div>
</body>
</html>
