<!DOCTYPE html>
<html>
<head>
    <title>AMEG - Editar Cadastro</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/mobile.css">
    <style>
        body { font-family: Arial; margin: 0; background: #f4f4f4; }
        .header { background: #2c3e50; color: white; padding: 20px; }
        .nav { background: #34495e; padding: 15px; }
        .nav a { color: white; text-decoration: none; padding: 10px 20px; margin-right: 10px; background: #3498db; border-radius: 5px; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .form-card { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .form-row { display: flex; gap: 20px; margin-bottom: 15px; }
        .form-group { flex: 1; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        .btn { background: #27ae60; color: white; padding: 12px 30px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        .btn:hover { background: #229954; }
        .logout { float: right; color: white; text-decoration: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>AMEG - Editar Cadastro</h1>
        <a href="/logout" class="logout">Sair</a>
    </div>
    
    <div class="nav">
        <a href="/dashboard">Dashboard</a>
        <a href="/cadastrar">Novo Cadastro</a>
        <a href="/relatorios">Relatórios</a>
        <a href="/exportar">Exportar CSV</a>
    </div>
    
    <div class="container">
        <div class="form-card">
            <h2>Editar Cadastro Familiar</h2>
            
            <form method="POST" action="/atualizar_cadastro/{{ cadastro[0] }}" enctype="multipart/form-data">
                <h3>1. DADOS DO TITULAR</h3>
                
                <div class="form-group">
                    <label>Nome Completo *</label>
                    <input type="text" name="nome_completo" value="{{ cadastro[1] if cadastro and cadastro|length > 1 else '' }}" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Endereço *</label>
                        <input type="text" name="endereco" value="{{ cadastro[2] if cadastro and cadastro|length > 2 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>Número *</label>
                        <input type="text" name="numero" value="{{ cadastro[3] if cadastro and cadastro|length > 3 else '' }}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Bairro *</label>
                        <input type="text" name="bairro" value="{{ cadastro[4] if cadastro and cadastro|length > 4 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>CEP *</label>
                        <input type="text" name="cep" value="{{ cadastro[5] if cadastro and cadastro|length > 5 else '' }}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Telefone Celular *</label>
                        <input type="text" name="telefone" value="{{ cadastro[6] if cadastro and cadastro|length > 6 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>Ponto de Referência</label>
                        <input type="text" name="ponto_referencia" value="{{ cadastro[7] if cadastro and cadastro|length > 7 else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Gênero *</label>
                        <select name="genero" required>
                            <option value="">Selecione</option>
                            <option value="Masculino" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Masculino' else '' }}>Masculino</option>
                            <option value="Feminino" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Feminino' else '' }}>Feminino</option>
                            <option value="Cisgênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Cisgênero' else '' }}>Cisgênero</option>
                            <option value="Homem cis" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Homem cis' else '' }}>Homem cis</option>
                            <option value="Mulher cis" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Mulher cis' else '' }}>Mulher cis</option>
                            <option value="Transgênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Transgênero' else '' }}>Transgênero</option>
                            <option value="Homem trans" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Homem trans' else '' }}>Homem trans</option>
                            <option value="Mulher trans" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Mulher trans' else '' }}>Mulher trans</option>
                            <option value="Travesti" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Travesti' else '' }}>Travesti</option>
                            <option value="Não-binário" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Não-binário' else '' }}>Não-binário</option>
                            <option value="Gênero fluido" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Gênero fluido' else '' }}>Gênero fluido</option>
                            <option value="Agênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Agênero' else '' }}>Agênero</option>
                            <option value="Bigênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Bigênero' else '' }}>Bigênero</option>
                            <option value="Poligênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Poligênero' else '' }}>Poligênero</option>
                            <option value="Pangênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Pangênero' else '' }}>Pangênero</option>
                            <option value="Demigênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Demigênero' else '' }}>Demigênero</option>
                            <option value="Demi-boy" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Demi-boy' else '' }}>Demi-boy</option>
                            <option value="Demi-girl" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Demi-girl' else '' }}>Demi-girl</option>
                            <option value="Andrógino" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Andrógino' else '' }}>Andrógino</option>
                            <option value="Intergênero" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Intergênero' else '' }}>Intergênero</option>
                            <option value="Neutrois" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Neutrois' else '' }}>Neutrois</option>
                            <option value="Two-Spirit" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Two-Spirit' else '' }}>Two-Spirit</option>
                            <option value="Queer" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Queer' else '' }}>Queer</option>
                            <option value="Gênero não-conforme" {{ 'selected' if cadastro and cadastro|length > 8 and cadastro[8] == 'Gênero não-conforme' else '' }}>Gênero não-conforme</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Idade *</label>
                        <input type="number" name="idade" value="{{ cadastro[9] if cadastro and cadastro|length > 9 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>Data Nascimento *</label>
                        <input type="date" name="data_nascimento" value="{{ cadastro[10] if cadastro and cadastro|length > 10 else '' }}" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Nº Título de Eleitor</label>
                        <input type="text" name="titulo_eleitor" value="{{ cadastro[11] if cadastro and cadastro|length > 11 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>Cidade Emissão Título</label>
                        <input type="text" name="cidade_titulo" value="{{ cadastro[12] if cadastro and cadastro|length > 12 else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>CPF *</label>
                        <input type="text" name="cpf" value="{{ cadastro[13] if cadastro and cadastro|length > 13 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>RG *</label>
                        <input type="text" name="rg" value="{{ cadastro[14] if cadastro and cadastro|length > 14 else '' }}" required>
                    </div>
                    <div class="form-group">
                        <label>NIS</label>
                        <input type="text" name="nis" value="{{ cadastro[15] if cadastro and cadastro|length > 15 else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Estado Civil *</label>
                        <select name="estado_civil" required>
                            <option value="">Selecione</option>
                            <option value="Solteiro(a)" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'Solteiro(a)' else '' }}>Solteiro(a)</option>
                            <option value="Casado(a)" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'Casado(a)' else '' }}>Casado(a)</option>
                            <option value="Separado(a) judicialmente" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'Separado(a) judicialmente' else '' }}>Separado(a) judicialmente</option>
                            <option value="Divorciado(a)" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'Divorciado(a)' else '' }}>Divorciado(a)</option>
                            <option value="Viúvo(a)" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'Viúvo(a)' else '' }}>Viúvo(a)</option>
                            <option value="União Estável" {{ 'selected' if cadastro and cadastro|length > 16 and cadastro[16] == 'União Estável' else '' }}>União Estável</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Escolaridade *</label>
                        <select name="escolaridade" required>
                            <option value="">Selecione...</option>
                            <option value="Analfabeto" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Analfabeto' else '' }}>Analfabeto</option>
                            <option value="Educação Infantil" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação Infantil' else '' }}>Educação Infantil</option>
                            <option value="Ensino Fundamental" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Ensino Fundamental' else '' }}>Ensino Fundamental</option>
                            <option value="Ensino Médio" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Ensino Médio' else '' }}>Ensino Médio</option>
                            <option value="Graduação Bacharelado" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Graduação Bacharelado' else '' }}>Graduação Bacharelado</option>
                            <option value="Graduação Licenciatura" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Graduação Licenciatura' else '' }}>Graduação Licenciatura</option>
                            <option value="Graduação Tecnológico" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Graduação Tecnológico' else '' }}>Graduação Tecnológico</option>
                            <option value="Pós-graduação Lato sensu" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Pós-graduação Lato sensu' else '' }}>Pós-graduação Lato sensu</option>
                            <option value="Pós-graduação Stricto sensu" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Pós-graduação Stricto sensu' else '' }}>Pós-graduação Stricto sensu</option>
                            <option value="Educação de Jovens e Adultos (EJA)" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação de Jovens e Adultos (EJA)' else '' }}>Educação de Jovens e Adultos (EJA)</option>
                            <option value="Educação Profissional e Tecnológica (EPT)" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação Profissional e Tecnológica (EPT)' else '' }}>Educação Profissional e Tecnológica (EPT)</option>
                            <option value="Educação Especial" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação Especial' else '' }}>Educação Especial</option>
                            <option value="Educação Indígena" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação Indígena' else '' }}>Educação Indígena</option>
                            <option value="Educação do Campo" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação do Campo' else '' }}>Educação do Campo</option>
                            <option value="Educação Quilombola" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação Quilombola' else '' }}>Educação Quilombola</option>
                            <option value="Educação a Distância (EaD)" {{ 'selected' if cadastro and cadastro|length > 17 and cadastro[17] == 'Educação a Distância (EaD)' else '' }}>Educação a Distância (EaD)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Profissão *</label>
                        <input type="text" name="profissao" value="{{ cadastro[18] if cadastro and cadastro|length > 18 else '' }}" required>
                    </div>
                </div>
                
                <h3>DADOS DO COMPANHEIRO</h3>
                
                <div class="form-group">
                    <label>Nome Companheiro</label>
                    <input type="text" name="nome_companheiro" value="{{ cadastro[19] if cadastro and cadastro|length > 19 else '' }}">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>CPF Companheiro</label>
                        <input type="text" name="cpf_companheiro" value="{{ cadastro[20] if cadastro and cadastro|length > 20 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>RG Companheiro</label>
                        <input type="text" name="rg_companheiro" value="{{ cadastro[21] if cadastro and cadastro|length > 21 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>Idade Companheiro</label>
                        <input type="number" name="idade_companheiro" value="{{ cadastro[22] if cadastro and cadastro|length > 22 else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Título Eleitor Companheiro</label>
                        <input type="text" name="titulo_companheiro" value="{{ cadastro[25] if cadastro and cadastro|length > 25 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>Cidade Título Companheiro</label>
                        <input type="text" name="cidade_titulo_companheiro" value="{{ cadastro[26] if cadastro and cadastro|length > 26 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>NIS Companheiro</label>
                        <input type="text" name="nis_companheiro" value="{{ cadastro[27] if cadastro and cadastro|length > 27 else '' }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Escolaridade Companheiro</label>
                        <select name="escolaridade_companheiro">
                            <option value="">Selecione...</option>
                            <option value="Analfabeto" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Analfabeto' else '' }}>Analfabeto</option>
                            <option value="Educação Infantil" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação Infantil' else '' }}>Educação Infantil</option>
                            <option value="Ensino Fundamental" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Ensino Fundamental' else '' }}>Ensino Fundamental</option>
                            <option value="Ensino Médio" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Ensino Médio' else '' }}>Ensino Médio</option>
                            <option value="Graduação Bacharelado" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Graduação Bacharelado' else '' }}>Graduação Bacharelado</option>
                            <option value="Graduação Licenciatura" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Graduação Licenciatura' else '' }}>Graduação Licenciatura</option>
                            <option value="Graduação Tecnológico" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Graduação Tecnológico' else '' }}>Graduação Tecnológico</option>
                            <option value="Pós-graduação Lato sensu" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Pós-graduação Lato sensu' else '' }}>Pós-graduação Lato sensu</option>
                            <option value="Pós-graduação Stricto sensu" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Pós-graduação Stricto sensu' else '' }}>Pós-graduação Stricto sensu</option>
                            <option value="Educação de Jovens e Adultos (EJA)" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação de Jovens e Adultos (EJA)' else '' }}>Educação de Jovens e Adultos (EJA)</option>
                            <option value="Educação Profissional e Tecnológica (EPT)" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação Profissional e Tecnológica (EPT)' else '' }}>Educação Profissional e Tecnológica (EPT)</option>
                            <option value="Educação Especial" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação Especial' else '' }}>Educação Especial</option>
                            <option value="Educação Indígena" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação Indígena' else '' }}>Educação Indígena</option>
                            <option value="Educação do Campo" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação do Campo' else '' }}>Educação do Campo</option>
                            <option value="Educação Quilombola" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação Quilombola' else '' }}>Educação Quilombola</option>
                            <option value="Educação a Distância (EaD)" {{ 'selected' if cadastro and cadastro|length > 23 and cadastro[23] == 'Educação a Distância (EaD)' else '' }}>Educação a Distância (EaD)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Profissão Companheiro</label>
                        <input type="text" name="profissao_companheiro" value="{{ cadastro[24] if cadastro and cadastro|length > 24 else '' }}">
                    </div>
                    <div class="form-group">
                        <label>Data Nascimento Companheiro</label>
                        <input type="date" name="data_nascimento_companheiro" value="{{ cadastro[25] if cadastro and cadastro|length > 25 else '' }}">
                    </div>
                </div>
                
                <button type="submit" class="btn">Atualizar Cadastro</button>
            </form>
        </div>
    </div>
</body>
</html>
